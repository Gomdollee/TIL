# ğŸ“˜ ì¸í„°í˜ì´ìŠ¤ vs ìƒì† 

> í† ë¹„ì˜ ìŠ¤í”„ë§ ì±…ì—ì„œ 
> "ì¸í„°í˜ì´ìŠ¤ë¥¼ ë„ì…í•˜ê³  í´ë¼ì´ì–¸íŠ¸ì˜ ë„ì›€ì„ ì–»ëŠ” ë°©ë²•ì€ ìƒì†ì„ ì‚¬ìš©í•´ 
> ë¹„ìŠ·í•œ ì‹œë„ë¥¼ í–ˆì„ ê²½ìš°ì— ë¹„í•´ì„œ í›¨ì”¬ ìœ ì—°í•˜ë‹¤." ë¼ëŠ” ê¸€ì„ ë³´ê³  ìƒê°í•œê²ƒì„ ì •ë¦¬  

---

## âœ… ê²°ë¡ 
**ì¸í„°í˜ì´ìŠ¤ ë„ì… + í´ë¼ì´ì–¸íŠ¸ ë„ì›€ì´ ìƒì†ë³´ë‹¤ í›¨ì”¬ ìœ ì—°í•¨**

---

## ğŸ’» ìƒì†ë¶€í„° ì•Œì•„ë³´ê¸°

```java 
// ì¶”ìƒ í´ë˜ìŠ¤ - ë¶€ëª¨ê°€ íë¦„ì„ ì œì–´
public abstract class UserDao {
    public void addUser(String userId) {
        Connection conn = getConnection();
        System.out.println("INSERT INTO users (id) VALUES ('" + userId + "');");
        close(conn);
    }

    protected abstract Connection getConnection();

    private void close(Connection conn) {
        System.out.println(" DB ì—°ê²°ë ");
    }

}

// Postgresqlìš© êµ¬í˜„ì²´
public class PsqlUserDao extends UserDao {
    @Override
    protected Connection getConnection() {
        System.out.println("getConnection");
        return new Connection(); 
    }
}

// ì‚¬ìš© ì½”ë“œ
public class App {
    public static void main(String[] args) {
        UserDao userDao = new PsqlUserDao();
        userDao.addUser("junwon");
    }
}
```
- UserDaoì˜ ì „ì²´ íë¦„ì€ ë¶€ëª¨ê°€ ê³ ì • 
- getCinnection()ë§Œ ë°”ê¿€ ìˆ˜ ìˆìŒ (ì»¨íŠ¸ë¡¤í•˜ê¸° ì–´ë ¤ì›€)
- ì¬ì‚¬ìš©ì„±, í™•ì¥ì„± ë‚®ìŒ 
- DB ì—°ê²° ë°©ì‹ì´ ë°”ë€Œë©´ ì „ì²´ êµ¬ì¡°ë¥¼ ìƒì† ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì‹œ ë§Œë“¤ì–´ì•¼ í•¨ -> ì±…ì—ì„œë„ ë°”ë€ ë¶€ë¶„ 

---
## ğŸ§± ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ ì•Œì•„ë³´ê¸° 

```java 
public interface ConnectionMaker {
    Connection makeConnection();
}

public class PostgreSqlConnectionMaker implenets ConnectionMaker {
    public Connection makeConnection() {
        System.out.println(" DB ì—°ê²°~~ ")

    }
}


